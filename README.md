# First site

Мой "Hello World!" в web-разработке. На сегодняшний сайт выглядит ужасно. 
 Переосмысление этого проекта я делал в Sandbox, удалось исправить некоторые недостатки и реализовать некоторые идеи. 
 Для меня проект является источником вдохновения, потому что это худшее что я писал.

<details>
    <summary>Немного истории</summary>
    
  Сайт не разрабатывался с нуля, а был взят за основу сайт из курса про создание интернет магазина года 2015 от Виктора
  Зинченко(php-start.com). В процесса его переделывания под себя я учил PHP (узнавал о существововании старых и плохих практик).
  На тот момент времени о вёрстке я знал только основые css-свойства и представление о том что блочная вёрстка на float это
  модно. Bootstrap для меня оставался загадкой.    
  
  Найдутся люди, которые скажут что код - говно. Они будут правы. Другая правда заключаетс что подобные курсы не ставят 
  цели научить писать хороший код, а предоставляют возможность войти в професию пусть и под унизительным словосочетанием
  говно-кодер. Не всем везёт со становлением на путь совершенного кода, я из тех кому не повезло.
  
  После получения автомата благодаря сайту, я через неделю раздобыл бесплатный shared-хостинг на который перенёс сайт.
  Поучился переносу, а потом какое-то время использовал хостинг как песочницу для изучения темы дипломой работы.
  
  Этот проект лёг в основу новой песочницы для чистого PHP.
</details> 

<details>
    <summary>Специфика проекта</summary>
    
  * MVC 
  * Структура проекта
  * PSR-0 со своем автозагрузчиком
  * Отсутствие сторонних пакетов
  * Отсутсвие namespace
  * Генерация капчи с помощью древнего скрипта тянущая зависимость от расшерения gd
  * Взаимодействия с БД через PDO и параметризированные запросы
  * ЧПУ
  * Своя реализация роутера основанная на регулярках, массиве роутов, call_user_func
  * Регистрация маршрутов через массив в файле <code>config/routes</code>, где в виде ключ=>значение задаётся регулярное 
  выражение как ключ, а значением является url написанный стиле ZF, который и вызывается соответствующим образом.
  * Аутентификация в админку через basic auth от  Apache
  * Отсутвие валидации данных на клиентской стороне
  * Валидация данных форм на сервере присутствует
  * CRUD над основным сущностями сайта: товары, категории, пользователи, комментарии, заказы
  * Есть также у сущностей специфичные флаги, например отображение у товаров и категорий. У пользователей это флаг
   блокировки (может ли пользователь авторизоваться)
  * Есть личный кабинет у пользователя для просмотра заказов, изменения аватара и имени
  * Предусмотрена покупка товаров, комментирование
  * Административная и клиентская часть сайта дублируют друга, в своё время явно роуты не понял до конца. Хотя случалось
   мне видеть, такую многосайтовость на одном взрослом проекте
  * Пароли все хэшируются
  * Отсутвуют 404, 500 ошибки
  * С точки зрения реального интернет магазина в проекте всё плохо
  * В админке валидация до ума недоведена из-за дублирования плохого кода, плюс есть более элегантные решения
</details>


<details>
    <summary>Структуре проекта</summary>
   
   - Administrator - панель администратора 
   - Controllers - толстенькие контроллеры с бизнес логикой
   - Models - модели с запросами к БД
   - Views - отображаемые страницы html+php
   - Components содержит отдельные компоненты, где каждый решает свою специфическую задачу
   - Config - содержит файлы маршрутами и параметрами подключения к БД
   - Templates - папка со стилями
   - Uploads содержит загружаемые пользователями файлы
</details>



<details>
    <summary>Конфиг сервера и доступы к БД</summary>
    Минимальный конфиг в apache 2.4 для OpenServer:
    <code>
    
        <VirtualHost *:%httpport%>    
            DocumentRoot    "%hostdir%"
            ServerName      "%host%"
            ServerAlias     "%host%" %aliases%
        
            <Directory     "%hostdir%"> 
                Require all granted
            </Directory>
        
        </VirtualHost>
        
   </code>
    
</details>

<details>
    <summary>Импорт БД и доступы</summary>
    
   Не забудьте проверить данные о подключении к БД в файле <code>config/db_params</code>. Импортируйте файл mysite.sql.
   Чтобы зайти в панель администратора зайдите на /admin логин admin пароль 12345678
   Логин тестового пользователя test@mail.ru пароль test1234
</details>


<details>
    <summary></summary>

</details>


<details>
    <summary>Скриншоты</summary>

</details>
